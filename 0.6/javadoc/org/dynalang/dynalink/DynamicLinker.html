<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_21) on Thu May 23 11:40:41 CEST 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>DynamicLinker (Dynalink 0.6 API)</title>
<meta name="date" content="2013-05-23">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DynamicLinker (Dynalink 0.6 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DynamicLinker.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/dynalang/dynalink/DefaultBootstrapper.html" title="class in org.dynalang.dynalink"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/dynalang/dynalink/DynamicLinkerFactory.html" title="class in org.dynalang.dynalink"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/dynalang/dynalink/DynamicLinker.html" target="_top">Frames</a></li>
<li><a href="DynamicLinker.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.dynalang.dynalink</div>
<h2 title="Class DynamicLinker" class="title">Class DynamicLinker</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.dynalang.dynalink.DynamicLinker</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">DynamicLinker</span>
extends <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">The linker for <a href="../../../org/dynalang/dynalink/RelinkableCallSite.html" title="interface in org.dynalang.dynalink"><code>RelinkableCallSite</code></a> objects. Users of it (scripting frameworks and language runtimes) have to
 create a linker using the <a href="../../../org/dynalang/dynalink/DynamicLinkerFactory.html" title="class in org.dynalang.dynalink"><code>DynamicLinkerFactory</code></a> and invoke its link method from the invokedynamic bootstrap
 methods to set the target of all the call sites in the code they generate. Usual usage would be to create one class
 per language runtime to contain one linker instance as:

 <pre>
 class MyLanguageRuntime {
     private static final GuardingDynamicLinker myLanguageLinker = new MyLanguageLinker();
     private static final DynamicLinker dynamicLinker = createDynamicLinker();

     private static DynamicLinker createDynamicLinker() {
         final DynamicLinkerFactory factory = new DynamicLinkerFactory();
         factory.setPrioritizedLinker(myLanguageLinker);
         return factory.createLinker();
     }

     public static CallSite bootstrap(MethodHandles.Lookup caller, String name, MethodType type) {
         return dynamicLinker.link(new MonomorphicCallSite(CallSiteDescriptorFactory.create(lookup, name, type)));
     }
 }
 </pre>

 Note how there are three components you will need to provide here:
 <ul>
 <li>You're expected to provide a <a href="../../../org/dynalang/dynalink/linker/GuardingDynamicLinker.html" title="interface in org.dynalang.dynalink.linker"><code>GuardingDynamicLinker</code></a> for your own language. If your runtime doesn't
 have its own language and/or object model (i.e. it's a generic scripting shell), you don't need to implement a
 dynamic linker; you would simply not invoke the <code>setPrioritizedLinker</code> method on the factory, or even better,
 simply use <a href="../../../org/dynalang/dynalink/DefaultBootstrapper.html" title="class in org.dynalang.dynalink"><code>DefaultBootstrapper</code></a>.</li>
 <li>The performance of the programs can depend on your choice of the class to represent call sites. The above
 example used <a href="../../../org/dynalang/dynalink/MonomorphicCallSite.html" title="class in org.dynalang.dynalink"><code>MonomorphicCallSite</code></a>, but you might want to use <a href="../../../org/dynalang/dynalink/ChainedCallSite.html" title="class in org.dynalang.dynalink"><code>ChainedCallSite</code></a> instead. You'll need to
 experiment and decide what fits your language runtime the best. You can subclass either of these or roll your own if
 you need to.</li>
 <li>You also need to provide <a href="../../../org/dynalang/dynalink/CallSiteDescriptor.html" title="interface in org.dynalang.dynalink"><code>CallSiteDescriptor</code></a>s to your call sites. They are immutable objects that contain
 all the information about the call site: the class performing the lookups, the name of the method being invoked, and
 the method signature. The library has a default <a href="../../../org/dynalang/dynalink/support/CallSiteDescriptorFactory.html" title="class in org.dynalang.dynalink.support"><code>CallSiteDescriptorFactory</code></a> for descriptors that you can use,
 or you can create your own descriptor classes, especially if you need to add further information (values passed in
 additional parameters to the bootstrap method) to them.</li>
 </ul></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Attila Szegedi</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/dynalang/dynalink/linker/LinkerServices.html" title="interface in org.dynalang.dynalink.linker">LinkerServices</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/dynalang/dynalink/DynamicLinker.html#getLinkerServices()">getLinkerServices</a></strong>()</code>
<div class="block">Returns the object representing the lower level linker services of this class that are normally exposed to
 individual language-specific linkers.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/7/docs/api/java/lang/StackTraceElement.html?is-external=true" title="class or interface in java.lang">StackTraceElement</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/dynalang/dynalink/DynamicLinker.html#getRelinkedCallSiteLocation()">getRelinkedCallSiteLocation</a></strong>()</code>
<div class="block">Returns a stack trace element describing the location of the call site currently being relinked on the current
 thread.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&lt;T extends <a href="../../../org/dynalang/dynalink/RelinkableCallSite.html" title="interface in org.dynalang.dynalink">RelinkableCallSite</a>&gt;&nbsp;<br>T</code></td>
<td class="colLast"><code><strong><a href="../../../org/dynalang/dynalink/DynamicLinker.html#link(T)">link</a></strong>(T&nbsp;callSite)</code>
<div class="block">Links an invokedynamic call site.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="link(org.dynalang.dynalink.RelinkableCallSite)">
<!--   -->
</a><a name="link(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>link</h4>
<pre>public&nbsp;&lt;T extends <a href="../../../org/dynalang/dynalink/RelinkableCallSite.html" title="interface in org.dynalang.dynalink">RelinkableCallSite</a>&gt;&nbsp;T&nbsp;link(T&nbsp;callSite)</pre>
<div class="block">Links an invokedynamic call site. It will install a method handle into the call site that invokes the relinking
 mechanism of this linker. Next time the call site is invoked, it will be linked for the actual arguments it was
 invoked with.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>callSite</code> - the call site to link.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the callSite, for easy call chaining.</dd></dl>
</li>
</ul>
<a name="getLinkerServices()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLinkerServices</h4>
<pre>public&nbsp;<a href="../../../org/dynalang/dynalink/linker/LinkerServices.html" title="interface in org.dynalang.dynalink.linker">LinkerServices</a>&nbsp;getLinkerServices()</pre>
<div class="block">Returns the object representing the lower level linker services of this class that are normally exposed to
 individual language-specific linkers. While as a user of this class you normally only care about the
 <a href="../../../org/dynalang/dynalink/DynamicLinker.html#link(T)"><code>link(RelinkableCallSite)</code></a> method, in certain circumstances you might want to use the lower level services
 directly; either to lookup specific method handles, to access the type converters, and so on.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the object representing the linker services of this class.</dd></dl>
</li>
</ul>
<a name="getRelinkedCallSiteLocation()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getRelinkedCallSiteLocation</h4>
<pre>public static&nbsp;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/StackTraceElement.html?is-external=true" title="class or interface in java.lang">StackTraceElement</a>&nbsp;getRelinkedCallSiteLocation()</pre>
<div class="block">Returns a stack trace element describing the location of the call site currently being relinked on the current
 thread. The operation internally creates a Throwable object and inspects its stack trace, so it's potentially
 expensive. The recommended usage for it is in writing diagnostics code.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a stack trace element describing the location of the call site currently being relinked, or null if it is
 not invoked while a call site is being relinked.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DynamicLinker.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/dynalang/dynalink/DefaultBootstrapper.html" title="class in org.dynalang.dynalink"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/dynalang/dynalink/DynamicLinkerFactory.html" title="class in org.dynalang.dynalink"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/dynalang/dynalink/DynamicLinker.html" target="_top">Frames</a></li>
<li><a href="DynamicLinker.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013 <a href="https://github.com/szegedi">Attila Szegedi</a>. All Rights Reserved.</small></p>
</body>
</html>
