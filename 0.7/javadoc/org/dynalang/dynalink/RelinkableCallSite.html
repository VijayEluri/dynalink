<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0-ea) on Thu Aug 08 07:39:32 CEST 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>RelinkableCallSite (Dynalink 0.7 API)</title>
<meta name="date" content="2013-08-08">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RelinkableCallSite (Dynalink 0.7 API)";
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RelinkableCallSite.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/dynalang/dynalink/NoSuchDynamicMethodException.html" title="class in org.dynalang.dynalink"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/dynalang/dynalink/RelinkableCallSite.html" target="_top">Frames</a></li>
<li><a href="RelinkableCallSite.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.dynalang.dynalink</div>
<h2 title="Interface RelinkableCallSite" class="title">Interface RelinkableCallSite</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../org/dynalang/dynalink/support/AbstractRelinkableCallSite.html" title="class in org.dynalang.dynalink.support">AbstractRelinkableCallSite</a>, <a href="../../../org/dynalang/dynalink/ChainedCallSite.html" title="class in org.dynalang.dynalink">ChainedCallSite</a>, <a href="../../../org/dynalang/dynalink/MonomorphicCallSite.html" title="class in org.dynalang.dynalink">MonomorphicCallSite</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">RelinkableCallSite</span></pre>
<div class="block">Interface for relinkable call sites. Language runtimes wishing to use this framework must use subclasses of
 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/invoke/CallSite.html?is-external=true" title="class or interface in java.lang.invoke"><code>CallSite</code></a> that also implement this interface as their call sites. There is a readily usable
 <a href="../../../org/dynalang/dynalink/MonomorphicCallSite.html" title="class in org.dynalang.dynalink"><code>MonomorphicCallSite</code></a> subclass that implements monomorphic inline caching strategy as well as a
 <a href="../../../org/dynalang/dynalink/ChainedCallSite.html" title="class in org.dynalang.dynalink"><code>ChainedCallSite</code></a> that retains a chain of already linked method handles. The reason this is defined as an
 interface instead of a concrete, albeit abstract class is that it allows independent implementations to choose
 between <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/invoke/MutableCallSite.html?is-external=true" title="class or interface in java.lang.invoke"><code>MutableCallSite</code></a> and <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/invoke/VolatileCallSite.html?is-external=true" title="class or interface in java.lang.invoke"><code>VolatileCallSite</code></a> as they see fit.</div>
<dl>
<dt><span class="strong">Author:</span></dt>
<dd>Attila Szegedi</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../org/dynalang/dynalink/CallSiteDescriptor.html" title="interface in org.dynalang.dynalink">CallSiteDescriptor</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/dynalang/dynalink/RelinkableCallSite.html#getDescriptor()">getDescriptor</a></strong>()</code>
<div class="block">Returns the descriptor for this call site.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/dynalang/dynalink/RelinkableCallSite.html#initialize(java.lang.invoke.MethodHandle)">initialize</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandle.html?is-external=true" title="class or interface in java.lang.invoke">MethodHandle</a>&nbsp;relinkAndInvoke)</code>
<div class="block">Initializes the relinkable call site by setting a relink-and-invoke method handle.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/dynalang/dynalink/RelinkableCallSite.html#relink(org.dynalang.dynalink.linker.GuardedInvocation, java.lang.invoke.MethodHandle)">relink</a></strong>(<a href="../../../org/dynalang/dynalink/linker/GuardedInvocation.html" title="class in org.dynalang.dynalink.linker">GuardedInvocation</a>&nbsp;guardedInvocation,
      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandle.html?is-external=true" title="class or interface in java.lang.invoke">MethodHandle</a>&nbsp;fallback)</code>
<div class="block">This method will be called by the dynamic linker every time the call site is normally relinked.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/dynalang/dynalink/RelinkableCallSite.html#resetAndRelink(org.dynalang.dynalink.linker.GuardedInvocation, java.lang.invoke.MethodHandle)">resetAndRelink</a></strong>(<a href="../../../org/dynalang/dynalink/linker/GuardedInvocation.html" title="class in org.dynalang.dynalink.linker">GuardedInvocation</a>&nbsp;guardedInvocation,
              <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandle.html?is-external=true" title="class or interface in java.lang.invoke">MethodHandle</a>&nbsp;fallback)</code>
<div class="block">This method will be called by the dynamic linker every time the call site is relinked and the linker wishes the
 call site to throw away any prior linkage state.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="initialize(java.lang.invoke.MethodHandle)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre>void&nbsp;initialize(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandle.html?is-external=true" title="class or interface in java.lang.invoke">MethodHandle</a>&nbsp;relinkAndInvoke)</pre>
<div class="block">Initializes the relinkable call site by setting a relink-and-invoke method handle. The call site implementation
 is supposed to set this method handle as its target.</div>
<dl>
<dt><span class="strong">Parameters:</span></dt>
<dd><code>relinkAndInvoke</code> - a relink-and-invoke method handle supplied by the <a href="../../../org/dynalang/dynalink/DynamicLinker.html" title="class in org.dynalang.dynalink"><code>DynamicLinker</code></a>.</dd>
</dl>
</li>
</ul>
<a name="getDescriptor()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDescriptor</h4>
<pre><a href="../../../org/dynalang/dynalink/CallSiteDescriptor.html" title="interface in org.dynalang.dynalink">CallSiteDescriptor</a>&nbsp;getDescriptor()</pre>
<div class="block">Returns the descriptor for this call site.</div>
<dl>
<dt><span class="strong">Returns:</span></dt>
<dd>the descriptor for this call site.</dd>
</dl>
</li>
</ul>
<a name="relink(org.dynalang.dynalink.linker.GuardedInvocation, java.lang.invoke.MethodHandle)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>relink</h4>
<pre>void&nbsp;relink(<a href="../../../org/dynalang/dynalink/linker/GuardedInvocation.html" title="class in org.dynalang.dynalink.linker">GuardedInvocation</a>&nbsp;guardedInvocation,
            <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandle.html?is-external=true" title="class or interface in java.lang.invoke">MethodHandle</a>&nbsp;fallback)</pre>
<div class="block">This method will be called by the dynamic linker every time the call site is normally relinked. It will be passed
 a <code>GuardedInvocation</code> that the call site should incorporate into its target method handle. When this method
 is called, the call site is allowed to keep other non-invalidated invocations around for implementation of
 polymorphic inline caches and compose them with this invocation to form its final target.</div>
<dl>
<dt><span class="strong">Parameters:</span></dt>
<dd><code>guardedInvocation</code> - the guarded invocation that the call site should incorporate into its target method
 handle.</dd>
<dd><code>fallback</code> - the fallback method. This is a method matching the method type of the call site that is supplied
 by the <a href="../../../org/dynalang/dynalink/DynamicLinker.html" title="class in org.dynalang.dynalink"><code>DynamicLinker</code></a> to be used by this call site as a fallback when it can't invoke its target with the
 passed arguments. The fallback method is such that when it's invoked, it'll try to discover the adequate target
 for the invocation, subsequently invoke <a href="../../../org/dynalang/dynalink/RelinkableCallSite.html#relink(org.dynalang.dynalink.linker.GuardedInvocation, java.lang.invoke.MethodHandle)"><code>relink(GuardedInvocation, MethodHandle)</code></a> or
 <a href="../../../org/dynalang/dynalink/RelinkableCallSite.html#resetAndRelink(org.dynalang.dynalink.linker.GuardedInvocation, java.lang.invoke.MethodHandle)"><code>resetAndRelink(GuardedInvocation, MethodHandle)</code></a>, and finally invoke the target.</dd>
</dl>
</li>
</ul>
<a name="resetAndRelink(org.dynalang.dynalink.linker.GuardedInvocation, java.lang.invoke.MethodHandle)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>resetAndRelink</h4>
<pre>void&nbsp;resetAndRelink(<a href="../../../org/dynalang/dynalink/linker/GuardedInvocation.html" title="class in org.dynalang.dynalink.linker">GuardedInvocation</a>&nbsp;guardedInvocation,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/invoke/MethodHandle.html?is-external=true" title="class or interface in java.lang.invoke">MethodHandle</a>&nbsp;fallback)</pre>
<div class="block">This method will be called by the dynamic linker every time the call site is relinked and the linker wishes the
 call site to throw away any prior linkage state. It will be passed a <code>GuardedInvocation</code> that the call site
 should use to build its target method handle. When this method is called, the call site is discouraged from
 keeping previous state around, and is supposed to only link the current invocation.</div>
<dl>
<dt><span class="strong">Parameters:</span></dt>
<dd><code>guardedInvocation</code> - the guarded invocation that the call site should use to build its target method handle.</dd>
<dd><code>fallback</code> - the fallback method. This is a method matching the method type of the call site that is supplied
 by the <a href="../../../org/dynalang/dynalink/DynamicLinker.html" title="class in org.dynalang.dynalink"><code>DynamicLinker</code></a> to be used by this call site as a fallback when it can't invoke its target with the
 passed arguments. The fallback method is such that when it's invoked, it'll try to discover the adequate target
 for the invocation, subsequently invoke <a href="../../../org/dynalang/dynalink/RelinkableCallSite.html#relink(org.dynalang.dynalink.linker.GuardedInvocation, java.lang.invoke.MethodHandle)"><code>relink(GuardedInvocation, MethodHandle)</code></a> or
 <a href="../../../org/dynalang/dynalink/RelinkableCallSite.html#resetAndRelink(org.dynalang.dynalink.linker.GuardedInvocation, java.lang.invoke.MethodHandle)"><code>resetAndRelink(GuardedInvocation, MethodHandle)</code></a>, and finally invoke the target.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RelinkableCallSite.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/dynalang/dynalink/NoSuchDynamicMethodException.html" title="class in org.dynalang.dynalink"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/dynalang/dynalink/RelinkableCallSite.html" target="_top">Frames</a></li>
<li><a href="RelinkableCallSite.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2013 <a href="https://github.com/szegedi">Attila Szegedi</a>. All Rights Reserved.</small></p>
</body>
</html>
